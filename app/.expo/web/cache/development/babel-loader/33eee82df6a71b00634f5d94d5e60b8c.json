{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/michaeldilley/Wagger/app/screens/Profile.js\";\n\nimport React from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport { GET_USERS } from \"../queries/users\";\nimport { Auth } from \"aws-amplify\";\nimport { useUserSession } from \"../auth/userSession\";\nimport { Button, Div, Text } from \"react-native-magnus\";\nimport Loader from \"../components/Loader\";\nimport { colors } from \"../styles/colors\";\n\nvar signOut = function signOut() {\n  return _regeneratorRuntime.async(function signOut$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(Auth.signOut());\n\n        case 3:\n          _context.next = 8;\n          break;\n\n        case 5:\n          _context.prev = 5;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(\"Error signing out: \", _context.t0);\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n};\n\nvar Profile = function Profile() {\n  var _useUserSession = useUserSession(),\n      getUserJwt = _useUserSession.getUserJwt,\n      getUserEmail = _useUserSession.getUserEmail;\n\n  var userEmail = getUserEmail();\n\n  var _useQuery = useQuery(GET_USERS),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  console.log(getUserJwt());\n  return loading ? React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }) : React.createElement(Div, {\n    m: \"lg\",\n    p: \"xl\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, userEmail), React.createElement(Button, {\n    bg: colors.danger,\n    block: true,\n    py: \"lg\",\n    my: \"xl\",\n    px: \"lg\",\n    fontSize: \"lg\",\n    onPress: signOut,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, \"Sign out\"));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/Users/michaeldilley/Wagger/app/screens/Profile.js"],"names":["React","useQuery","GET_USERS","Auth","useUserSession","Button","Div","Text","Loader","colors","signOut","console","log","Profile","getUserJwt","getUserEmail","userEmail","loading","error","data","danger"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,SAAT;AACA,SAASC,IAAT,QAAqB,aAArB;AACA,SAASC,cAAT;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,IAAtB,QAAkC,qBAAlC;AACA,OAAOC,MAAP;AACA,SAASC,MAAT;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAENP,IAAI,CAACO,OAAL,EAFM;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIZC,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;;AAJY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;;AAQA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAA,wBACiBT,cAAc,EAD/B;AAAA,MACZU,UADY,mBACZA,UADY;AAAA,MACAC,YADA,mBACAA,YADA;;AAEpB,MAAMC,SAAS,GAAGD,YAAY,EAA9B;;AAFoB,kBAIad,QAAQ,CAACC,SAAD,CAJrB;AAAA,MAIZe,OAJY,aAIZA,OAJY;AAAA,MAIHC,KAJG,aAIHA,KAJG;AAAA,MAIIC,IAJJ,aAIIA,IAJJ;;AAOpBR,EAAAA,OAAO,CAACC,GAAR,CAAYE,UAAU,EAAtB;AAEA,SAAOG,OAAO,GACZ,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADY,GAGZ,oBAAC,GAAD;AAAK,IAAA,CAAC,EAAC,IAAP;AAAY,IAAA,CAAC,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOD,SAAP,CADF,EAEE,oBAAC,MAAD;AACE,IAAA,EAAE,EAAEP,MAAM,CAACW,MADb;AAEE,IAAA,KAAK,MAFP;AAGE,IAAA,EAAE,EAAC,IAHL;AAIE,IAAA,EAAE,EAAC,IAJL;AAKE,IAAA,EAAE,EAAC,IALL;AAME,IAAA,QAAQ,EAAC,IANX;AAOE,IAAA,OAAO,EAAEV,OAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CAHF;AAkBD,CA3BD;;AA6BA,eAAeG,OAAf","sourcesContent":["import React from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport { GET_USERS } from \"../queries/users\";\nimport { Auth } from \"aws-amplify\";\nimport { useUserSession } from \"../auth/userSession\";\nimport { Button, Div, Text } from \"react-native-magnus\";\nimport Loader from \"../components/Loader\";\nimport { colors } from \"../styles/colors\";\n\nconst signOut = async () => {\n  try {\n    await Auth.signOut();\n  } catch (error) {\n    console.log(\"Error signing out: \", error);\n  }\n};\n\nconst Profile = () => {\n  const { getUserJwt, getUserEmail } = useUserSession();\n  const userEmail = getUserEmail();\n\n  const { loading, error, data } = useQuery(GET_USERS);\n\n  // Get JWT for connection testing\n  console.log(getUserJwt());\n\n  return loading ? (\n    <Loader />\n  ) : (\n    <Div m=\"lg\" p=\"xl\">\n      <Text>{userEmail}</Text>\n      <Button\n        bg={colors.danger}\n        block\n        py=\"lg\"\n        my=\"xl\"\n        px=\"lg\"\n        fontSize=\"lg\"\n        onPress={signOut}\n      >\n        Sign out\n      </Button>\n    </Div>\n  );\n};\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}